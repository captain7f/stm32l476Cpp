/*
 * UART_Hal.cpp
 *
 *  Created on: Oct 30, 2025
 *      Author: FA
 */

static bool UartBase::isInit[]= (false);

UartBase::UartBase(USART_TypeDef* instance, UART_HandlerTypeDef* haurt){
	init();

}

UartBase::~UartBase(){
	if(_Instance == USART1){
		if(!isInit[0]) return;
		isInit[0]= false;
		HAL_UART_MspDeInit(_huart);
	}
}

UartBase::init(){
	if(_Instance == USART1){
		if(!isInit[0]) return;
		isInit[0]= true;
		MX_USART1_UART_Init();
	}
}

HAL_StatusTypeDef UartBase::write(uint8_t* pData, uint16_t Size, uint32_t Timeout){
	return HAL_UART_Transmit(_huart,pData, Size, Timeout);
}

